# ユースケース名
注文する

# ユースケース概要
顧客がWeb販売システムでカートに追加した商品を選択し、注文手続きを行う。

# アクター
顧客

# 事前条件
- 顧客がログインしていること
- カートに商品が追加されていること
- 商品が在庫ありであること
- 顧客が有効なクレジットカード情報を登録済みであること

# 事後条件
- 注文が登録される
- 注文状況が「注文済み」となる
- クレジットカード決済が完了する

# 基本フロー
1. 顧客はカート画面を表示する
2. 顧客は注文したい商品を選択し、注文内容確認画面に遷移する
3. 顧客は注文内容を確認し、「注文確定」ボタンを押す  
　　- 商品が在庫切れの場合は代替フロー①へ  
　　- 顧客がログインしていない場合は代替フロー②へ
4. Web販売システムはクレジットカードシステムに決済処理を依頼する  
　　- クレジットカード決済が失敗した場合は代替フロー③へ
5. クレジットカードシステムは決済結果をWeb販売システムに返す
6. Web販売システムは注文情報を登録する
7. Web販売システムは注文完了メッセージ画面に遷移する

# 代替フロー
① 商品が在庫切れの場合  
　- エラーメッセージを表示し、基本フロー1に戻る

② 顧客がログインしていない場合  
　- ログイン画面へ遷移し、ログイン後は基本フロー1に戻る

③ クレジットカード決済が失敗した場合  
　- エラーメッセージを表示し、基本フロー1に戻る

# 関連情報
- 顧客ID、商品ID、数量、注文ID、注文状況、クレジットカード情報、カート情報